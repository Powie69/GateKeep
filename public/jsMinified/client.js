document.querySelector("._logout").addEventListener("click",()=>{fetch("/profile/logout",{method:"POST"}).then(o=>{if(o.status>=400)return;location.href="/"})["catch"](o=>{console.error(o)})});document.querySelectorAll(".help-item-button").forEach(o=>{o.addEventListener("click",o=>{const e=o.currentTarget.nextElementSibling;if(e.style.display=="block"){e.style.setProperty("display","none");o.currentTarget.querySelector(".material-symbols-rounded").innerText="arrow_drop_down"}else{e.style.setProperty("display","block");o.currentTarget.querySelector(".material-symbols-rounded").innerText="arrow_drop_up"}})});async function o(o){o.preventDefault();const e=Object.fromEntries(new FormData(o.target));if(!(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.username)||/^09\d{9}$/.test(e.username))||!/^[1-6]\d{11}$/.test(e.lrn)||!e.password){console.log("Invalid login data (client)")}try{const t=await fetch("/profile/login",{method:"POST",headers:{o:"application/json"},body:JSON.stringify(e)});const a=await t.json();if(!t.ok){document.querySelector(".main-form-message").innerText=a.message;document.querySelector(".main-form-message").classList.remove("_noDisplay");return}else{document.querySelector(".main-form-message").classList.add("_noDisplay");location.reload();return}}catch(n){console.error(n)}}