async function loginSubmit(e){e.preventDefault();e=Object.fromEntries(new FormData(e.target));(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.username)||/^09\d{9}$/.test(e.username))&&/^[1-6]\d{11}$/.test(e.lrn)&&e.password||console.log("Invalid login data (client)");try{var t=await fetch("/profile/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();t.ok?(document.querySelector(".main-form-message").classList.add("_noDisplay"),location.reload()):(document.querySelector(".main-form-message").innerText=r.message,document.querySelector(".main-form-message").classList.remove("_noDisplay"));}catch(e){console.error(e);}}document.querySelector(".main").style.setProperty("background",`url(images/circles/${Math.floor(10*Math.random())+1}.svg) no-repeat top left / cover`),document.querySelector("._logout").addEventListener("click",()=>{fetch("/profile/logout",{method:"POST"}).then(e=>{400<=e.status||(location.href="/");}).catch(e=>{console.error(e);});}),document.querySelectorAll(".help-item-button").forEach(e=>{e.addEventListener("click",e=>{var t=e.currentTarget.nextElementSibling;"block"==t.style.display?(t.style.setProperty("display","none"),e.currentTarget.querySelector(".material-symbols-rounded").innerText="arrow_drop_down"):(t.style.setProperty("display","block"),e.currentTarget.querySelector(".material-symbols-rounded").innerText="arrow_drop_up");});});