async function loginSubmit(e){e.preventDefault();let t=Object.fromEntries(new FormData(e.target).entries());(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.username)||/^09\d{9}$/.test(t.username))&&/^[1-6]\d{11}$/.test(t.lrn)&&t.password||console.log("Invalid login data (client)"),console.log("Valid login data (client)");try{let a=await fetch("profile/login",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(t),credentials:"include"}),n=await a.json();if(a.ok){document.querySelector(".main-form-message").classList.add("_noDisplay"),location.reload();return}document.querySelector(".main-form-message").innerText=n.message,document.querySelector(".main-form-message").classList.remove("_noDisplay");return}catch(r){console.error(r)}}