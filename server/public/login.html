<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<!--  -->
	<link rel="shortcut icon" href="https://raw.githubusercontent.com/Powie69/GateKeep/main/server/panel/assets/ico.ico" type="image/x-icon">
	<link rel="stylesheet" href="../css/login.css">
</head>
<body>
	<form action="http://localhost:3000/admin/login" method="post" onsubmit="submit()" class="form">
		<label class="form-post">Enter Password: <br><input type="text" name="password"></label>
		<button class="form-submit" type="submit" onclick="sumbit()">Submit</button>
	</form>

	<script>
		async function submit() {
    event.preventDefault();
    try {
        const data = Object.fromEntries(new FormData(document.getElementById("form-login")).entries());

        const response = await fetch('http://localhost:3000/admin/login', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/x-www-form-urlencoded',
            },
            body: new URLSearchParams(data),
			credentials: 'include',
        });

		const respond = await response.json();
        if (!response.ok) {
			console.error('Something went wrong');
			return;
        }
		console.log(respond);
    } catch (error) {console.error(error);}
}
	</script>
</body>
</html>